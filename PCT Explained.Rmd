---
name: 'Mojisoluwa (Jiso) Awe'
title: "R Notebook"
output: html_notebook
---

# What is PCT?

In Major League Baseball Pct is the statistic for winning percentage, typically the third stat presented in data about standings (displayed as a decimal). The higher this percentage, the higher the ratio is between a teams wins and losses. This statistic is the primary component examined in team rankings.

The highest Pct. in MLB history was 0.716 from the 2001 Seattle Mariners. In baseball any Pct. above 0.500 is a very big accomplishment.

* despite this amazing season by the Mariners, they haven't been as lucky any other season and are still the only MLB team to not have a single World Series appearance


## Calculation

### Win Percentage is calculated based on two variables: wins and losses.


$$\frac{Wins}{Wins+Losses}$$

* note: Wins + Losses can also be referred to as Games Played (GP)

# Visualization

This section will be dedicated to visualizations based on different teams winning percentages in different seasons.

Data provided by:
<ahref="https://www.sports-reference.com/sharing.html?utm_source=direct&utm_medium=Share&utm_campaign=ShareTool">Baseball-Reference.com</a>: <a href="https://www.baseball-reference.com/teams/tgl.cgi?team=WSN&t=b&year=2019&utm_source=direct&utm_medium=Share&utm_campaign=ShareTool#team_batting_gamelogs">View Original Table</a><br>Generated 5/23/2021.


```{r}
library(tidyverse) ## loading packages
library(ggplot2)
library(dplyr)
library(lubridate)
library(taRifx)
```


```{r}
nats19 <- read_csv('nats pct 2019 table.csv')  #importing the data
nats19
```


```{r}
losses <-  ##filtering the games when the team lost this season
  nats19 %>%
  filter(grepl('^L', Rslt))

losses
```

```{r}
losses$Rslt <-   ##removing the L from Rslt column
  gsub('L', '', as.character(losses$Rslt))

losses
```



```{r}
y <- losses$Rslt    ##creating a margin column based on how badly the team lost

LossT <-
  losses %>%
  mutate(Margin = sapply(y, function(txt) eval(parse(text=txt))))

LossT
```

## Loss Margin


```{r}
GameOut <-
  LossT %>%
  ggplot(aes(x = Rk, y = Margin, fill = Opp)) +
  geom_bar(stat = 'identity') +
  xlab('Game') +
  ylab('Margin')

GameOut
```



